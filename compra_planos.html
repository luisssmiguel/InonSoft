<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Checkout - Planos</title>
    <!-- Importando TailwindCSS --> 
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-100 font-sans">
    <div class="min-h-screen flex items-center justify-center p-6">
      <div class="bg-white shadow-lg rounded-lg overflow-hidden w-full max-w-6xl flex flex-col md:flex-row">
        <!-- Sidebar com planos -->
        <aside class="bg-gray-800 text-white p-8 md:w-1/3 flex flex-col justify-between">
          <div>
            <h1 class="text-3xl font-bold mb-8">InonSoft</h1>
            <div class="text-sm uppercase font-semibold text-blue-400 mb-6">Escolha sua:</div>
            <div id="plans-list" class="space-y-6">
              <!-- Preenchido via JS -->
            </div>
          </div>
        </aside>

        <!-- Conteúdo principal -->
        <section class="flex-1 p-8">
          <div>
            <h2 class="text-xl font-semibold text-blue-500">Descrição do Plano Selecionado</h2>
            <p id="plan-description" class="text-gray-600 mt-4"></p>
            <p id="plan-price" class="text-xl font-bold text-purple-600 mt-6"></p>
          </div>

          <form id="checkout-form" class="mt-8 space-y-6" autocomplete="off" novalidate>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label for="firstName" class="block text-sm font-medium text-gray-700">Nome</label>
                <input
                  id="firstName"
                  name="firstName"
                  type="text"
                  placeholder="Digite seu nome"
                  class="mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"
                />
                <div id="error-firstName" class="text-red-500 text-sm mt-2"></div>
              </div>
              <div>
                <label for="lastName" class="block text-sm font-medium text-gray-700">Sobrenome</label>
                <input
                  id="lastName"
                  name="lastName"
                  type="text"
                  placeholder="Digite seu sobrenome"
                  class="mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"
                />
                <div id="error-lastName" class="text-red-500 text-sm mt-2"></div>
              </div>
            </div>

            <div>
              <label for="cpf" class="block text-sm font-medium text-gray-700">CPF</label>
              <input
                id="cpf"
                name="cpf"
                type="text"
                maxlength="14"
                placeholder="000.000.000-00"
                class="mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"
              />
              <div id="error-cpf" class="text-red-500 text-sm mt-2"></div>
            </div>

            <div>
              <label for="email" class="block text-sm font-medium text-gray-700">Email</label>
              <input
                id="email"
                name="email"
                type="email"
                placeholder="seuemail@exemplo.com"
                class="mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"
              />
              <div id="error-email" class="text-red-500 text-sm mt-2"></div>
            </div>

            <div>
              <label for="paymentType" class="block text-sm font-medium text-gray-700">Forma de Pagamento</label>
              <select
                id="paymentType"
                name="paymentType"
                class="mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"
              >
                <option value="">Selecione</option>
                <option value="credit">Cartão de Crédito</option>
                <option value="debit">Cartão de Débito</option>
              </select>
              <div id="error-paymentType" class="text-red-500 text-sm mt-2"></div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label for="cardName" class="block text-sm font-medium text-gray-700">Nome no Cartão</label>
                <input
                  id="cardName"
                  name="cardName"
                  type="text"
                  placeholder="Nome impresso no cartão"
                  class="mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"
                />
                <div id="error-cardName" class="text-red-500 text-sm mt-2"></div>
              </div>
              <div>
                <label for="expiry" class="block text-sm font-medium text-gray-700">Validade</label>
                <input
                  id="expiry"
                  name="expiry"
                  type="text"
                  maxlength="5"
                  placeholder="MM/AA"
                  class="mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"
                />
                <div id="error-expiry" class="text-red-500 text-sm mt-2"></div>
              </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label for="cardNumber" class="block text-sm font-medium text-gray-700">Número do Cartão</label>
                <input
                  id="cardNumber"
                  name="cardNumber"
                  maxlength="19"
                  type="text"
                  placeholder="1234 5678 9012 3456"
                  class="mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"
                />
                <div id="error-cardNumber" class="text-red-500 text-sm mt-2"></div>
              </div>
              <div>
                <label for="cvc" class="block text-sm font-medium text-gray-700">CVC</label>
                <input
                  id="cvc"
                  name="cvc"
                  maxlength="4"
                  type="text"
                  placeholder="CVC"
                  class="mt-2 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500"
                />
                <div id="error-cvc" class="text-red-500 text-sm mt-2"></div>
              </div>
            </div>

            <div class="flex items-center">
              <input
                type="checkbox"
                id="termsAccepted"
                name="termsAccepted"
                class="h-5 w-5 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"
              />
              <label for="termsAccepted" class="ml-3 block text-sm text-gray-700">
                Li e aceito os
                <a href="#" class="text-indigo-600 hover:underline">termos e condições</a>.
              </label>
            </div>
            <div id="error-termsAccepted" class="text-red-500 text-sm mt-2"></div>

            <button
              type="submit"
              class="w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white font-bold py-4 rounded-lg shadow-md hover:shadow-lg transition duration-300"
            >
              Finalizar Compra
            </button>
          </form>
          <div id="success-message" class="text-green-600 bg-green-100 p-4 rounded-lg mt-6 hidden"></div>
        </section>
      </div>
    </div>

    <script>
      // Código JS permanece o mesmo
    </script>

    <style>
      :root {
        --primary: #8b5cf6;
        --secondary: #1eaedb;
        --background: #f3f4f6;
        --dark: #1a1f2c;
        --shadow: 0 6px 32px 0 rgba(84, 56, 148, 0.08);
      }
      html, body {
        margin: 0;
        padding: 0;
        background: var(--background);
        font-family: 'Inter', Arial, sans-serif;
        color: #222;
      }
      .checkout-container {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--background);
        padding: 40px 12px;
      }
      .checkout-box {
        width: 100%;
        max-width: 900px;
        display: flex;
        background: #fff;
        box-shadow: var(--shadow);
        border-radius: 2rem;
        overflow: hidden;
      }
      .checkout-sidebar {
        min-width: 270px;
        width: 38%;
        background: var(--dark);
        color: #fff;
        padding: 48px 24px 24px 24px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }
      .checkout-sidebar h1 {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 28px;
        letter-spacing: 1px;
      }
      .plan-label {
        color: var(--secondary);
        text-transform: uppercase;
        font-weight: 700;
        font-size: 1.1rem;
      }
      .plans-list {
        display: flex;
        flex-direction: column;
        gap: 20px;
        margin-top: 16px;
      }
      .plan-btn {
        display: flex;
        align-items: center;
        gap: 12px;
        border-radius: 16px;
        border: 2px solid #30353d;
        background: #181c27;
        padding: 16px 20px;
        transition: 0.2s;
        cursor: pointer;
        outline: none;
        font-size: 1rem;
        color: #eee;
      }
      .plan-btn.selected {
        background: linear-gradient(90deg, var(--primary) 65%, var(--secondary) 100%);
        border-color: var(--primary);
        color: #fff;
        box-shadow: 0 2px 24px 0 rgba(139,92,246,0.12);
      }
      .plan-radio {
        display: block;
        width: 16px; height: 16px;
        border-radius: 100%;
        border: 2px solid #888;
        margin-right: 4px;
        background: #191c27;
        box-sizing: border-box;
        position: relative;
      }
      .plan-btn.selected .plan-radio {
        border-color: #fff;
        background: #fff;
      }
      .plan-btn.selected .plan-radio::after {
        content: "";
        display: block;
        background: var(--primary);
        border-radius: 100%;
        width: 10px; height: 10px;
        position: absolute;
        left: 2px; top: 2px;
      }
      .plan-label-txt {
        font-size: 1.09rem;
        font-weight: 600;
        letter-spacing: -0.5px;
      }
      .checkout-image {
        width: 100%;
        margin-top: 60px;
        border-radius: 14px;
        object-fit: cover;
        box-shadow: 0 2px 8px 0 rgba(30,174,219,0.09);
        display: block;
      }
      .checkout-content {
        flex: 1;
        padding: 48px 40px 40px 40px;
        display: flex;
        flex-direction: column;
        min-width: 340px;
      }
      @media (max-width: 900px) {
        .checkout-box { flex-direction: column; }
        .checkout-sidebar { width: 100%; min-width: unset; }
        .checkout-content { padding: 36px 18px 26px; }
      }
      @media (max-width: 660px) {
        .checkout-container { padding: 0; }
        .checkout-box { border-radius: 0; }
        .checkout-content { padding: 24px 5vw; }
        .checkout-sidebar { padding: 28px 12px 16px; }
      }
      .plan-desc-title {
        color: var(--secondary);
        font-size: 1.12rem;
        font-weight: 700;
      }
      .plan-desc {
        color: #3d3e42;
        margin: 10px 0 5px 0;
      }
      .plan-price {
        color: var(--primary);
        font-weight: 700;
        font-size: 1.28rem;
      }
      form.checkout-form {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 16px 24px;
        margin-top: 14px;
      }
      form.checkout-form .full {
        grid-column: span 2;
      }
      .form-group {
        position: relative;
        display: flex;
        flex-direction: column;
      }
      .form-group label {
        font-size: 0.97rem;
        font-weight: 650;
        color: #555;
        margin-bottom: 5px;
      }
      .form-group input,
      .form-group select {
        font-size: 1rem;
        padding: 9.5px 12px;
        border-radius: 8px;
        border: 1.5px solid #d1d5db;
        background: #f7f9fd;
        outline: none;
        transition: border 0.2s;
        margin-top: 0;
      }
      .form-group input:focus,
      .form-group select:focus {
        border-color: var(--primary);
      }
      .form-group select {
        cursor: pointer;
        appearance: none;
        background: #fff;
        z-index: 2;
        position: relative;
      }
      .form-group select option {
        background: #fff;
        color: #111;
      }
      .form-error {
        position: absolute;
        top: 100%;
        left: 0;
        font-size: 0.84rem;
        color: #ef4444;
        margin-top: 3px;
      }
      .form-checkbox-group {
        display: flex;
        align-items: center;
        gap: 7px;
        font-size: 1rem;
        color: #333;
        margin-top: 2px;
        margin-bottom: -7px;
      }
      .form-checkbox-group input[type="checkbox"] {
        accent-color: var(--primary);
        width: 18px;
        height: 18px;
        border-radius: 4px;
        margin-right: 6px;
      }
      .btn-submit {
        grid-column: span 2;
        margin-top: 18px;
        padding: 14px 0;
        font-size: 1.12rem;
        font-weight: 700;
        color: #fff;
        background: linear-gradient(90deg, var(--secondary) 0%, var(--primary) 80%);
        border: none;
        border-radius: 12px;
        box-shadow: 0 4px 20px 0 rgba(29,174,219,0.05);
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        transition: filter 0.16s;
      }
      .btn-submit:hover {
        filter: brightness(1.08);
      }
      .icon-credit {
        color: #fff;
        vertical-align: middle;
      }
      .success-message {
        margin: 18px 0 0 0;
        color: #22c55e;
        background: #f0faf5;
        border-radius: 9px;
        font-size: 1.06rem;
        padding: 10px 18px;
        font-weight: 600;
        text-align: center;
      }
    </style>
  </head>
    <script>
      // Definição dos planos disponíveis
      const plans = [
        {
          id: "basic",
          label: "Plano Básico",
          price: 100,
          description: "Automação simples de atendimento e relatórios essenciais.",
        },
        {
          id: "advanced",
          label: "Plano Avançado",
          price: 150,
          description: "Relatórios automatizados, gestão avançada, chatbots e integração com marketplaces.",
        },
        {
          id: "premium",
          label: "Plano Premium",
          price: 249,
          description: "Todos benefícios anteriores + suporte prioritário e integrações premium.",
        },
      ];

      let selectedPlan = plans[1]; // plano Avançado padrão

      // UI: renderiza os botões dos planos
      function renderPlanOptions() {
        const plansList = document.getElementById("plans-list");
        plansList.innerHTML = "";
        plans.forEach(plan => {
          const btn = document.createElement("button");
          btn.type = "button";
          btn.className = "plan-btn" + (selectedPlan.id === plan.id ? " selected" : "");
          btn.setAttribute("data-id", plan.id);
          btn.innerHTML = `
            <span class="plan-radio"></span>
            <span class="plan-label-txt">${plan.label}</span>
          `;
          btn.onclick = () => {
            selectedPlan = plan;
            renderPlanOptions();
            updatePlanDescriptionPrice();
          };
          plansList.appendChild(btn);
        });
      }
      function updatePlanDescriptionPrice() {
        document.getElementById("plan-description").textContent = selectedPlan.description;
        document.getElementById("plan-price").textContent = "Valor: R$ " + selectedPlan.price;
      }

      renderPlanOptions();
      updatePlanDescriptionPrice();

      // Máscara CPF
      document.getElementById("cpf").addEventListener("input", function(e) {
        let v = e.target.value.replace(/\D/g,'');
        v = v.replace(/(\d{3})(\d)/,'$1.$2');
        v = v.replace(/(\d{3})(\d)/,'$1.$2');
        v = v.replace(/(\d{3})(\d{1,2})$/,'$1-$2');
        e.target.value = v;
      });

      // Máscara número do cartão
      document.getElementById("cardNumber").addEventListener("input", function(e) {
        let v = e.target.value.replace(/\D/g,'').substr(0,16);
        v = v.replace(/(.{4})/g,"$1 ").trim();
        e.target.value = v;
      });

      // Máscara de mês/ano
      document.getElementById("expiry").addEventListener("input", function(e) {
        let v = e.target.value.replace(/[^0-9]/g,'').substr(0,4);
        if (v.length > 2) v = v.substr(0,2) + '/' + v.substr(2,2);
        e.target.value = v;
      });

      // Validação e submissão do formulário
      document.getElementById("checkout-form").addEventListener("submit", function(e) {
        e.preventDefault();
        const form = e.target;
        let errors = {};
        const get = id => form[id]?.value?.trim?.() ?? "";
        // Validação dos campos básicos
        if (!get("firstName")) errors.firstName = "Obrigatório";
        if (!get("lastName")) errors.lastName = "Obrigatório";
        if (!get("cpf")) errors.cpf = "Obrigatório";
        if (!get("email")) errors.email = "Obrigatório";
        else if (!/\S+@\S+\.\S+/.test(get("email"))) errors.email = "Email inválido";
        if (!get("paymentType")) errors.paymentType = "Obrigatório";
        if (!get("cardName")) errors.cardName = "Obrigatório";
        if (!get("cardNumber")) errors.cardNumber = "Obrigatório";
        else if (get("cardNumber").replace(/\s/g,"").length !== 16) errors.cardNumber = "Número incompleto";
        if (!get("expiry")) errors.expiry = "Obrigatório";
        else if (!/^\d{2}\/\d{2}$/.test(get("expiry"))) errors.expiry = "Use o formato MM/AA";
        if (!get("cvc")) errors.cvc = "Obrigatório";
        else if (!/^\d{3,4}$/.test(get("cvc"))) errors.cvc = "CVC inválido";
        if (!form.termsAccepted.checked) errors.termsAccepted = "Necessário aceitar os termos";

        // Exibe/limpa mensagens de erro
        ["firstName","lastName","cpf","email","paymentType","cardName","cardNumber","expiry","cvc","termsAccepted"].forEach(field => {
          document.getElementById("error-"+field).textContent = errors[field] || "";
        });

        // Sucesso: simula compra
        if (Object.keys(errors).length === 0) {
          document.getElementById("success-message").style.display = "block";
          document.getElementById("success-message").textContent = "Compra finalizada com sucesso!";
          form.reset();
          setTimeout(() => {
            document.getElementById("success-message").style.display = "none";
          }, 3200);
        } else {
          document.getElementById("success-message").style.display = "none";
        }
      });
    </script>
  </body>
</html>